require "application_system_test_case"

class Sessions::SudosTest < ApplicationSystemTestCase
  setup do
    @<%= singular_table_name %> = sign_in_as(<%= table_name %>(:lazaro_nixon))
  end

  test "executing sudo" do
    visit new_sessions_sudo_url(proceed_to_url: edit_password_url)
    fill_in :password, with: "Secret1*3*5*"
    click_on "Continue"

    assert_selector "h1", text: "Change your password"
  end
end
